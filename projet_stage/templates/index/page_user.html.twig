{% extends 'base.html.twig' %}

{% block title %}Hello IndexController!{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    <div class="example-wrapper">
        <h3>PAGE USER</h3>

        <h1>{{ user.name }}</h1>


        {% set testimage = user.avatar %}

        {% if testimage %}
            <img src="data:image/png;base64,{{ testimage }}" width='60px' height='60px' />
        {% endif %}

        <br>
        
        inscrit depuis le {{ user.dateinscrip|date('d/m/Y') }}

        <br><br>

        {# messagerie#}
        {% if app.user %}
            {# user sur sa propre page #}
            {% if user.id == app.user.id %}
                <h3>liste des conversation :</h3>
                {% for personne in personnes %} 
                    <a href="pagemessagerie{{ personne.id }}"><span> {{ personne.name }} </span></a><br>
                {% endfor %}
            {# user sur une autre page #}
            {% else %}
                <a href="pagemessagerie{{ user.id }}">envoyer un message privée a {{ user.name }}</a><br><br>
            {% endif %}
        {% endif %}

        {# liste des blogs #}
        {% if blogs %}
            liste des blogs écrit :<br>
            {% for blog in blogs %}
                <a href="pageblog{{ blog.id }}">le {{ blog.datetime|date('d/m/Y H:i') }} : {{ blog.titre }}</a>
                <br>
            {% endfor %}
        {% endif %}

        <br>

        {# liste des jeux #}
        {% if contribs %}
            a participer sur ces jeux :<br>
            {% for contrib in contribs %}
                <a href="pagejeu{{ contrib.jeu.id }}">{{ contrib.jeu.titre }} / upvote:{{ contrib.jeu.upvote }} / {{ contrib.jeu.etat }}</a>
                <br>
            {% endfor %}
        {% endif %}

    </div>
{% endblock %}


